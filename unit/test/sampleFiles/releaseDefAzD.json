{
   "count": 1,
   "value": [
      {
         "source": "userInterface",
         "revision": 75,
         "description": null,
         "createdBy": {
            "displayName": "Test User",
            "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
            "_links": {
               "avatar": {
                  "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
               }
            },
            "id": "00000000-0000-0000-0000-000000000000",
            "uniqueName": "fakeEmail@noemail.com",
            "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
            "descriptor": "redacted"
         },
         "createdOn": "2019-03-24T16:46:08.79Z",
         "modifiedBy": {
            "displayName": "Test User",
            "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
            "_links": {
               "avatar": {
                  "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
               }
            },
            "id": "00000000-0000-0000-0000-000000000000",
            "uniqueName": "fakeEmail@noemail.com",
            "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
            "descriptor": "redacted"
         },
         "modifiedOn": "2019-07-13T13:30:21.98Z",
         "isDeleted": false,
         "variables": {
            "appName": {
               "value": "PeopleTracker.Mobile"
            },
            "berUrl": {
               "value": "http://ber.peopletracker.us"
            },
            "BrowserToUse": {
               "value": "phantomjs"
            },
            "chart": {
               "value": "peopletracker"
            },
            "clientSecret": {
               "value": null,
               "isSecret": true
            },
            "commonResourceGroupName": {
               "value": "PTracker-Common"
            },
            "dataType": {
               "value": "back-end"
            },
            "dblogin": {
               "value": "redacted"
            },
            "dbpassword": {
               "value": null,
               "isSecret": true
            },
            "endip": {
               "value": "0.0.0.0"
            },
            "GoDaddyKey": {
               "value": "redacted"
            },
            "GoDaddySecret": {
               "value": null,
               "isSecret": true
            },
            "JWTTokenKey": {
               "value": null,
               "isSecret": true
            },
            "location": {
               "value": "eastus2"
            },
            "output": {
               "value": "jsonc"
            },
            "servicePrincipal": {
               "value": "00000000-0000-0000-0000-000000000000"
            },
            "startip": {
               "value": "0.0.0.0"
            },
            "subscriptionId": {
               "value": "00000000-0000-0000-0000-000000000000",
               "allowOverride": true
            },
            "system.debug": {
               "value": "false",
               "allowOverride": true
            },
            "tenatId": {
               "value": "00000000-0000-0000-0000-000000000000"
            },
            "subscriptionConnection": {
               "value": "redacted"
            }
         },
         "variableGroups": [],
         "environments": [
            {
               "id": 2,
               "name": "Dev Infra",
               "rank": 2,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 4
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 11
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 12
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Deploy Infra",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/deploy.ps1",
                              "arguments": "-resourceGroupName $(resourceGroupName) -adminlogin $(dblogin) -password $(dbpassword) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -stage $(deploymentName) -subscriptionid $(subscriptionid) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "true",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "ReleaseStarted",
                     "conditionType": "event",
                     "value": ""
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/2"
            },
            {
               "id": 3,
               "name": "Dev Database",
               "rank": 5,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 5
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 10
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 13
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionid)\n\n$servername= az sql server list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=servername]$servername\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "1.*",
                           "name": "Deploy DACPAC to Sql Azure",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectedServiceNameSelector": "ConnectedServiceNameARM",
                              "ConnectedServiceName": "",
                              "ConnectedServiceNameARM": "$(subscriptionConnection)",
                              "AuthenticationType": "server",
                              "ServerName": "$(servername).database.windows.net",
                              "DatabaseName": "ptracker",
                              "SqlUsername": "$(dblogin)",
                              "SqlPassword": "$(dbpassword)",
                              "aadSqlUsername": "",
                              "aadSqlPassword": "",
                              "ConnectionString": "",
                              "TaskNameSelector": "DacpacTask",
                              "DeploymentAction": "Publish",
                              "DacpacFile": "$(System.DefaultWorkingDirectory)/artifact/win/PeopleTracker.Database.dacpac",
                              "BacpacFile": "",
                              "SqlFile": "",
                              "SqlInline": "",
                              "PublishProfile": "",
                              "AdditionalArguments": "/p:BlockOnPossibleDataLoss=False",
                              "SqlAdditionalArguments": "",
                              "InlineAdditionalArguments": "",
                              "IpDetectionMethod": "AutoDetect",
                              "StartIpAddress": "",
                              "EndIpAddress": "",
                              "DeleteFirewallRule": "true"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/3"
            },
            {
               "id": 4,
               "name": "Dev Web Service",
               "rank": 4,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 6
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 9
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 14
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**",
                                    "iac/**",
                                    "mobile/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionid)\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "4.*",
                           "name": "Deploy to Staging Slot",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectionType": "AzureRM",
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "PublishProfilePath": "$(System.DefaultWorkingDirectory)/**/*.pubxml",
                              "PublishProfilePassword": "",
                              "WebAppKind": "webApp",
                              "WebAppName": "$(webSiteName)",
                              "DeployToSlotOrASEFlag": "true",
                              "ResourceGroupName": "$(resourceGroupName)",
                              "SlotName": "stage",
                              "DockerNamespace": "",
                              "DockerRepository": "",
                              "DockerImageTag": "",
                              "VirtualApplication": "",
                              "Package": "$(System.DefaultWorkingDirectory)/artifact/win/PeopleTracker.NetService.zip",
                              "RuntimeStack": "",
                              "RuntimeStackFunction": "",
                              "StartupCommand": "",
                              "ScriptType": "",
                              "InlineScript": ":: You can provide your deployment commands here. One command per line.",
                              "ScriptPath": "",
                              "WebConfigParameters": "",
                              "AppSettings": "",
                              "ConfigurationSettings": "",
                              "UseWebDeploy": "true",
                              "DeploymentType": "webDeploy",
                              "TakeAppOfflineFlag": "false",
                              "SetParametersFile": "",
                              "RemoveAdditionalFilesFlag": "true",
                              "ExcludeFilesFromAppDataFlag": "true",
                              "AdditionalArguments": "-retryAttempts:6 -retryInterval:10000",
                              "RenameFilesFlag": "true",
                              "XmlTransformation": "false",
                              "XmlVariableSubstitution": "false",
                              "JSONFiles": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "Swap Slots",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "Action": "Swap Slots",
                              "WebAppName": "$(webSiteName)",
                              "SpecifySlot": "false",
                              "ResourceGroupName": "$(resourceGroupName)",
                              "SourceSlot": "stage",
                              "SwapWithProduction": "true",
                              "TargetSlot": "",
                              "PreserveVnet": "false",
                              "Slot": "production",
                              "ExtensionsList": "",
                              "OutputVariable": "",
                              "AppInsightsResourceGroupName": "",
                              "ApplicationInsightsResourceName": "",
                              "ApplicationInsightsWebTestName": ""
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/4"
            },
            {
               "id": 5,
               "name": "Dev K8s",
               "rank": 6,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 7
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 8
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 15
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionid)\n\n$repository= az acr list --resource-group $(commonResourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=repository]$repository\"\n\n$cluster = az aks list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=cluster]$cluster\"\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "Install Helm 2.10.0",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "helmVersion": "2.10.0",
                              "checkLatestHelmVersion": "true",
                              "installKubeCtl": "true",
                              "kubectlVersion": "1.8.9",
                              "checkLatestKubeCtl": "true"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "helm init",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "connectionType": "Azure Resource Manager",
                              "azureSubscriptionEndpoint": "$(subscriptionConnection)",
                              "azureResourceGroup": "$(resourceGroupName)",
                              "kubernetesCluster": "$(cluster)",
                              "kubernetesServiceEndpoint": "",
                              "namespace": "",
                              "command": "init",
                              "chartType": "Name",
                              "chartName": "",
                              "chartPath": "",
                              "version": "",
                              "releaseName": "",
                              "overrideValues": "",
                              "valueFile": "",
                              "destination": "$(Build.ArtifactStagingDirectory)",
                              "canaryimage": "false",
                              "upgradetiller": "true",
                              "updatedependency": "false",
                              "save": "true",
                              "install": "true",
                              "recreate": "false",
                              "resetValues": "false",
                              "force": "false",
                              "waitForExecution": "true",
                              "arguments": "--service-account tiller",
                              "enableTls": "false",
                              "caCert": "",
                              "certificate": "",
                              "privatekey": "",
                              "tillernamespace": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "helm upgrade",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "connectionType": "Azure Resource Manager",
                              "azureSubscriptionEndpoint": "$(subscriptionConnection)",
                              "azureResourceGroup": "$(resourceGroupName)",
                              "kubernetesCluster": "$(cluster)",
                              "kubernetesServiceEndpoint": "",
                              "namespace": "",
                              "command": "upgrade",
                              "chartType": "FilePath",
                              "chartName": "",
                              "chartPath": "$(System.DefaultWorkingDirectory)/artifact/iac/$(chart)",
                              "version": "",
                              "releaseName": "$(deploymentName)",
                              "overrideValues": "image.tag=$(Build.BuildId),service.url=\"http://$(webSiteName).azurewebsites.net\",image.repository=\"$(repository).azurecr.io/peopletracker\"",
                              "valueFile": "",
                              "destination": "$(Build.ArtifactStagingDirectory)",
                              "canaryimage": "false",
                              "upgradetiller": "true",
                              "updatedependency": "false",
                              "save": "true",
                              "install": "true",
                              "recreate": "false",
                              "resetValues": "false",
                              "force": "false",
                              "waitForExecution": "true",
                              "arguments": "",
                              "enableTls": "false",
                              "caCert": "",
                              "certificate": "",
                              "privatekey": "",
                              "tillernamespace": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Update DNS",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/updatedns.ps1",
                              "arguments": "-resourceGroupName $(resourceGroupName) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -goDaddyKey $(GoDaddyKey) -goDaddySecret $(GoDaddySecret) -deploymentName $(deploymentName) -name \u0027$(dnsRecordName)\u0027 -subscriptionid $(subscriptionid) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": {
                     "isEnabled": false,
                     "timeout": 1440,
                     "samplingInterval": 15,
                     "stabilizationTime": 5,
                     "minimumSuccessDuration": 0
                  },
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/5"
            },
            {
               "id": 8,
               "name": "Dev Mobile",
               "rank": 7,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 22
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 23
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 85
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "mobile/**",
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionid)\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Update BER",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1",
                              "arguments": "-value \u0027http://$(webSiteName).azurewebsites.net\u0027",
                              "script": "# Read the version from the file passed in by build\n$version = Get-Content .\\version.txt -Raw\n$version = $version.Trim()\n\n\n$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1 -berUrl $(berUrl) -appName $(appName) -dataType $(dataType) -version $version -value \u0027http://$(webSiteName).azurewebsites.net\u0027 -verbose\n\n\n$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1 -berUrl $(berUrl) -appName $(appName) -dataType Env -version $version -value \u0027Dev\u0027 -verbose",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/mobile"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "3.*",
                           "name": "Deploy Android to Beta Testers",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "appSlug": "Trackyon/People-Tracker-Android",
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTracker.Mobile.Droid.apk",
                              "symbolsType": "Apple",
                              "symbolsPath": "",
                              "pdbPath": "**/*.pdb",
                              "dsymPath": "",
                              "mappingTxtPath": "",
                              "packParentFolder": "false",
                              "releaseNotesSelection": "file",
                              "releaseNotesInput": "",
                              "releaseNotesFile": "$(System.DefaultWorkingDirectory)/artifact/mobile/ReleaseNotes.txt",
                              "isMandatory": "false",
                              "destinationType": "groups",
                              "destinationGroupIds": "",
                              "destinationStoreId": "",
                              "isSilent": "false"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "3.*",
                           "name": "Deploy iOS to Beta Testers",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "appSlug": "Trackyon/People-Tracker",
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTrackerMobileiOS.ipa",
                              "symbolsType": "Apple",
                              "symbolsPath": "",
                              "pdbPath": "**/*.pdb",
                              "dsymPath": "",
                              "mappingTxtPath": "",
                              "packParentFolder": "false",
                              "releaseNotesSelection": "file",
                              "releaseNotesInput": "",
                              "releaseNotesFile": "$(System.DefaultWorkingDirectory)/artifact/mobile/ReleaseNotes.txt",
                              "isMandatory": "false",
                              "destinationType": "groups",
                              "destinationGroupIds": "",
                              "destinationStoreId": "",
                              "isSilent": "false"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Database",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "Dev Web Service",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "Dev BER",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/8"
            },
            {
               "id": 9,
               "name": "Dev Testing",
               "rank": 8,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 25
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 26
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 81
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**",
                                    "mobile/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Run Selenium Tests",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "testSelector": "testAssemblies",
                              "testAssemblyVer2": "**\\*UITests*.dll\n!**\\*TestAdapter.dll\n!**\\obj\\**",
                              "testPlan": "",
                              "testSuite": "",
                              "testConfiguration": "",
                              "tcmTestRun": "$(test.RunId)",
                              "searchFolder": "$(System.DefaultWorkingDirectory)",
                              "testFiltercriteria": "TestCategory=UI",
                              "runOnlyImpactedTests": "False",
                              "runAllTestsAfterXBuilds": "50",
                              "uiTests": "false",
                              "vstestLocationMethod": "version",
                              "vsTestVersion": "latest",
                              "vstestLocation": "",
                              "runSettingsFile": "$(System.DefaultWorkingDirectory)/artifact/win/bvt.runsettings",
                              "overrideTestrunParameters": "-webAppUrl $(TestWebAppUrl) -browser $(BrowserToUse)",
                              "pathtoCustomTestAdapters": "",
                              "runInParallel": "False",
                              "runTestsInIsolation": "False",
                              "codeCoverageEnabled": "False",
                              "otherConsoleOptions": "",
                              "distributionBatchType": "basedOnTestCases",
                              "batchingBasedOnAgentsOption": "autoBatchSize",
                              "customBatchSizeValue": "10",
                              "batchingBasedOnExecutionTimeOption": "autoBatchSize",
                              "customRunTimePerBatchValue": "60",
                              "dontDistribute": "False",
                              "testRunTitle": "Dev UI",
                              "platform": "Any CPU",
                              "configuration": "Release",
                              "publishRunAttachments": "false",
                              "diagnosticsEnabled": "True",
                              "collectDumpOn": "onAbortOnly",
                              "rerunFailedTests": "true",
                              "rerunType": "basedOnTestFailurePercentage",
                              "rerunFailedThreshold": "100",
                              "rerunFailedTestCasesMaxLimit": "5",
                              "rerunMaxAttempts": "3"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "1.*",
                           "name": "Run Mobile Tests",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTrackerMobileiOS.ipa",
                              "artifactsDir": "$(Build.ArtifactStagingDirectory)/AppCenterTest\t",
                              "enablePrepare": "true",
                              "framework": "uitest",
                              "appiumBuildDir": "",
                              "espressoBuildDir": "",
                              "espressoTestApkPath": "",
                              "calabashProjectDir": "",
                              "calabashConfigFile": "",
                              "calabashProfile": "",
                              "calabashSkipConfigCheck": "false",
                              "uitestBuildDir": "$(System.DefaultWorkingDirectory)/artifact/mobile",
                              "uitestStorePath": "",
                              "uitestStorePass": "",
                              "uitestKeyAlias": "",
                              "uitestKeyPass": "",
                              "uitestToolsDir": "$(System.DefaultWorkingDirectory)/artifact/mobile",
                              "signInfo": "",
                              "xcuitestBuildDir": "",
                              "xcuitestTestIpaPath": "",
                              "prepareOpts": "",
                              "enableRun": "true",
                              "credsType": "serviceEndpoint",
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "username": "",
                              "password": "",
                              "appSlug": "Trackyon/People-Tracker",
                              "devices": "Trackyon/peopletrackerios",
                              "series": "master",
                              "dsymDir": "",
                              "locale": "en_US",
                              "userDefinedLocale": "",
                              "loginOpts": "",
                              "runOpts": "",
                              "async": "true",
                              "cliLocationOverride": "",
                              "debug": "true"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Mobile",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "Dev K8s",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 90,
                  "gatesOptions": {
                     "isEnabled": true,
                     "timeout": 1440,
                     "samplingInterval": 5,
                     "stabilizationTime": 5,
                     "minimumSuccessDuration": 0
                  },
                  "gates": [
                     {
                        "tasks": [
                           {
                              "environment": {},
                              "taskId": "00000000-0000-0000-0000-000000000000",
                              "version": "1.*",
                              "name": "Invoke REST API: GET",
                              "enabled": true,
                              "alwaysRun": false,
                              "continueOnError": false,
                              "timeoutInMinutes": 0,
                              "definitionType": "task",
                              "overrideInputs": {},
                              "condition": "succeeded()",
                              "inputs": {
                                 "connectedServiceNameSelector": "connectedServiceName",
                                 "connectedServiceName": "00000000-0000-0000-0000-000000000000",
                                 "connectedServiceNameARM": "",
                                 "method": "GET",
                                 "headers": "{\n}",
                                 "body": "",
                                 "urlSuffix": "",
                                 "waitForCompletion": "false",
                                 "successCriteria": ""
                              }
                           }
                        ]
                     }
                  ]
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/9"
            },
            {
               "id": 10,
               "name": "Dev Common Infra",
               "rank": 1,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 28
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 31
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 32
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Deploy Infra for BER",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/deployCommon.ps1",
                              "arguments": "-resourceGroupName $(commonResourceGroupName) -adminlogin $(dblogin) -password $(dbpassword) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -goDaddyKey $(GoDaddyKey) -goDaddySecret $(GoDaddySecret) -subscriptionid $(subscriptionid) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "true",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "ReleaseStarted",
                     "conditionType": "event",
                     "value": ""
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/10"
            },
            {
               "id": 11,
               "name": "Dev BER",
               "rank": 3,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  1
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 29
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 30
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 33
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "ber/**",
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionid)\n\n$appServiceName = az webapp list --resource-group $(commonResourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=appServiceName]$appServiceName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "4.*",
                           "name": "Azure App Service Deploy: BER",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectionType": "AzureRM",
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "PublishProfilePath": "$(System.DefaultWorkingDirectory)/**/*.pubxml",
                              "PublishProfilePassword": "",
                              "WebAppKind": "webApp",
                              "WebAppName": "$(appServiceName)",
                              "DeployToSlotOrASEFlag": "false",
                              "ResourceGroupName": "",
                              "SlotName": "production",
                              "DockerNamespace": "",
                              "DockerRepository": "",
                              "DockerImageTag": "",
                              "VirtualApplication": "",
                              "Package": "$(System.DefaultWorkingDirectory)/**/*.zip",
                              "RuntimeStack": "",
                              "RuntimeStackFunction": "",
                              "StartupCommand": "",
                              "ScriptType": "",
                              "InlineScript": ":: You can provide your deployment commands here. One command per line.",
                              "ScriptPath": "",
                              "WebConfigParameters": "",
                              "AppSettings": "-Tokens:Audience http://ber.peopletracker.us -Tokens:Issuer http://ber.peopletracker.us -Tokens:Mobile PeopleTracker.Mobile -Tokens:Web PeopleTracker.Web -Tokens:Key $(JWTTokenKey)",
                              "ConfigurationSettings": "",
                              "UseWebDeploy": "false",
                              "DeploymentType": "webDeploy",
                              "TakeAppOfflineFlag": "true",
                              "SetParametersFile": "",
                              "RemoveAdditionalFilesFlag": "false",
                              "ExcludeFilesFromAppDataFlag": "true",
                              "AdditionalArguments": "-retryAttempts:6 -retryInterval:10000",
                              "RenameFilesFlag": "true",
                              "XmlTransformation": "false",
                              "XmlVariableSubstitution": "false",
                              "JSONFiles": ""
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Common Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/11"
            },
            {
               "id": 13,
               "name": "QA Infra",
               "rank": 9,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  2
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 35
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 48
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 51
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Deploy Infra",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/deploy.ps1",
                              "arguments": "-resourceGroupName $(resourceGroupName) -adminlogin $(dblogin) -password $(dbpassword) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -stage $(deploymentName) -subscriptionId $(subscriptionId) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "true",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Dev Testing",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/13"
            },
            {
               "id": 15,
               "name": "QA Web Service",
               "rank": 10,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  2
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 37
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 46
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 53
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**",
                                    "iac/**",
                                    "mobile/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "4.*",
                           "name": "Deploy to Staging Slot",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectionType": "AzureRM",
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "PublishProfilePath": "$(System.DefaultWorkingDirectory)/**/*.pubxml",
                              "PublishProfilePassword": "",
                              "WebAppKind": "webApp",
                              "WebAppName": "$(webSiteName)",
                              "DeployToSlotOrASEFlag": "true",
                              "ResourceGroupName": "$(resourceGroupName)",
                              "SlotName": "stage",
                              "DockerNamespace": "",
                              "DockerRepository": "",
                              "DockerImageTag": "",
                              "VirtualApplication": "",
                              "Package": "$(System.DefaultWorkingDirectory)/artifact/win/PeopleTracker.NetService.zip",
                              "RuntimeStack": "",
                              "RuntimeStackFunction": "",
                              "StartupCommand": "",
                              "ScriptType": "",
                              "InlineScript": ":: You can provide your deployment commands here. One command per line.",
                              "ScriptPath": "",
                              "WebConfigParameters": "",
                              "AppSettings": "",
                              "ConfigurationSettings": "",
                              "UseWebDeploy": "true",
                              "DeploymentType": "webDeploy",
                              "TakeAppOfflineFlag": "false",
                              "SetParametersFile": "",
                              "RemoveAdditionalFilesFlag": "true",
                              "ExcludeFilesFromAppDataFlag": "true",
                              "AdditionalArguments": "-retryAttempts:6 -retryInterval:10000",
                              "RenameFilesFlag": "true",
                              "XmlTransformation": "false",
                              "XmlVariableSubstitution": "false",
                              "JSONFiles": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "Swap Slots",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "Action": "Swap Slots",
                              "WebAppName": "$(webSiteName)",
                              "SpecifySlot": "false",
                              "ResourceGroupName": "$(resourceGroupName)",
                              "SourceSlot": "stage",
                              "SwapWithProduction": "true",
                              "TargetSlot": "",
                              "PreserveVnet": "false",
                              "Slot": "production",
                              "ExtensionsList": "",
                              "OutputVariable": "",
                              "AppInsightsResourceGroupName": "",
                              "ApplicationInsightsResourceName": "",
                              "ApplicationInsightsWebTestName": ""
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "QA Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/15"
            },
            {
               "id": 16,
               "name": "QA Database",
               "rank": 11,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  2
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 38
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 45
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 54
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$servername= az sql server list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=servername]$servername\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "1.*",
                           "name": "Deploy DACPAC to Sql Azure",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectedServiceNameSelector": "ConnectedServiceNameARM",
                              "ConnectedServiceName": "",
                              "ConnectedServiceNameARM": "$(subscriptionConnection)",
                              "AuthenticationType": "server",
                              "ServerName": "$(servername).database.windows.net",
                              "DatabaseName": "ptracker",
                              "SqlUsername": "$(dblogin)",
                              "SqlPassword": "$(dbpassword)",
                              "aadSqlUsername": "",
                              "aadSqlPassword": "",
                              "ConnectionString": "",
                              "TaskNameSelector": "DacpacTask",
                              "DeploymentAction": "Publish",
                              "DacpacFile": "$(System.DefaultWorkingDirectory)/artifact/win/PeopleTracker.Database.dacpac",
                              "BacpacFile": "",
                              "SqlFile": "",
                              "SqlInline": "",
                              "PublishProfile": "",
                              "AdditionalArguments": "/p:BlockOnPossibleDataLoss=False",
                              "SqlAdditionalArguments": "",
                              "InlineAdditionalArguments": "",
                              "IpDetectionMethod": "AutoDetect",
                              "StartIpAddress": "",
                              "EndIpAddress": "",
                              "DeleteFirewallRule": "true"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "QA Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/16"
            },
            {
               "id": 17,
               "name": "QA K8s",
               "rank": 12,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  2
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 39
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 44
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 55
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$repository= az acr list --resource-group $(commonResourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=repository]$repository\"\n\n$cluster = az aks list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=cluster]$cluster\"\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "Install Helm 2.10.0",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "helmVersion": "2.10.0",
                              "checkLatestHelmVersion": "true",
                              "installKubeCtl": "true",
                              "kubectlVersion": "1.8.9",
                              "checkLatestKubeCtl": "true"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "helm init",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "connectionType": "Azure Resource Manager",
                              "azureSubscriptionEndpoint": "$(subscriptionConnection)",
                              "azureResourceGroup": "$(resourceGroupName)",
                              "kubernetesCluster": "$(cluster)",
                              "kubernetesServiceEndpoint": "",
                              "namespace": "",
                              "command": "init",
                              "chartType": "Name",
                              "chartName": "",
                              "chartPath": "",
                              "version": "",
                              "releaseName": "",
                              "overrideValues": "",
                              "valueFile": "",
                              "destination": "$(Build.ArtifactStagingDirectory)",
                              "canaryimage": "false",
                              "upgradetiller": "true",
                              "updatedependency": "false",
                              "save": "true",
                              "install": "true",
                              "recreate": "false",
                              "resetValues": "false",
                              "force": "false",
                              "waitForExecution": "true",
                              "arguments": "--service-account tiller",
                              "enableTls": "false",
                              "caCert": "",
                              "certificate": "",
                              "privatekey": "",
                              "tillernamespace": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "helm upgrade",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "connectionType": "Azure Resource Manager",
                              "azureSubscriptionEndpoint": "$(subscriptionConnection)",
                              "azureResourceGroup": "$(resourceGroupName)",
                              "kubernetesCluster": "$(cluster)",
                              "kubernetesServiceEndpoint": "",
                              "namespace": "",
                              "command": "upgrade",
                              "chartType": "FilePath",
                              "chartName": "",
                              "chartPath": "$(System.DefaultWorkingDirectory)/artifact/iac/$(chart)",
                              "version": "",
                              "releaseName": "$(deploymentName)",
                              "overrideValues": "image.tag=$(Build.BuildId),service.url=\"http://$(webSiteName).azurewebsites.net\",image.repository=\"$(repository).azurecr.io/peopletracker\"",
                              "valueFile": "",
                              "destination": "$(Build.ArtifactStagingDirectory)",
                              "canaryimage": "false",
                              "upgradetiller": "true",
                              "updatedependency": "false",
                              "save": "true",
                              "install": "true",
                              "recreate": "false",
                              "resetValues": "false",
                              "force": "false",
                              "waitForExecution": "true",
                              "arguments": "",
                              "enableTls": "false",
                              "caCert": "",
                              "certificate": "",
                              "privatekey": "",
                              "tillernamespace": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Update DNS",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/updatedns.ps1",
                              "arguments": "-resourceGroupName $(resourceGroupName) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -goDaddyKey $(GoDaddyKey) -goDaddySecret $(GoDaddySecret) -deploymentName $(deploymentName) -name \u0027$(dnsRecordName)\u0027 -subscriptionId $(subscriptionId) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "QA Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/17"
            },
            {
               "id": 18,
               "name": "QA Mobile",
               "rank": 13,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  2
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 40
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 43
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 56
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "mobile/**",
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Update BER",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1",
                              "arguments": "-value \u0027http://$(webSiteName).azurewebsites.net\u0027",
                              "script": "# Read the version from the file passed in by build\n$version = Get-Content .\\version.txt -Raw\n$version = $version.Trim()\n\n\n$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1 -berUrl $(berUrl) -appName $(appName) -dataType $(dataType) -version $version -value \u0027http://$(webSiteName).azurewebsites.net\u0027 -verbose\n\n$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1 -berUrl $(berUrl) -appName $(appName) -dataType Env -version $version -value \u0027QA\u0027 -verbose",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/mobile"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "3.*",
                           "name": "Deploy Android to Beta Testers",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "appSlug": "Trackyon/People-Tracker-Android",
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTracker.Mobile.Droid.apk",
                              "symbolsType": "Apple",
                              "symbolsPath": "",
                              "pdbPath": "**/*.pdb",
                              "dsymPath": "",
                              "mappingTxtPath": "",
                              "packParentFolder": "false",
                              "releaseNotesSelection": "file",
                              "releaseNotesInput": "",
                              "releaseNotesFile": "$(System.DefaultWorkingDirectory)/artifact/mobile/ReleaseNotes.txt",
                              "isMandatory": "false",
                              "destinationType": "groups",
                              "destinationGroupIds": "",
                              "destinationStoreId": "",
                              "isSilent": "false"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "3.*",
                           "name": "Deploy iOS to Beta Testers",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "appSlug": "Trackyon/People-Tracker",
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTrackerMobileiOS.ipa",
                              "symbolsType": "Apple",
                              "symbolsPath": "",
                              "pdbPath": "**/*.pdb",
                              "dsymPath": "",
                              "mappingTxtPath": "",
                              "packParentFolder": "false",
                              "releaseNotesSelection": "file",
                              "releaseNotesInput": "",
                              "releaseNotesFile": "$(System.DefaultWorkingDirectory)/artifact/mobile/ReleaseNotes.txt",
                              "isMandatory": "false",
                              "destinationType": "groups",
                              "destinationGroupIds": "",
                              "destinationStoreId": "",
                              "isSilent": "false"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "QA Web Service",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "QA Database",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/18"
            },
            {
               "id": 19,
               "name": "QA Testing",
               "rank": 14,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  2
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 41
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 42
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 82
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**",
                                    "mobile/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "1.*",
                           "name": "Run Mobile Tests",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTracker.Mobile.Droid.apk",
                              "artifactsDir": "$(Build.ArtifactStagingDirectory)/AppCenterTest\t",
                              "enablePrepare": "true",
                              "framework": "uitest",
                              "appiumBuildDir": "",
                              "espressoBuildDir": "",
                              "espressoTestApkPath": "",
                              "calabashProjectDir": "",
                              "calabashConfigFile": "",
                              "calabashProfile": "",
                              "calabashSkipConfigCheck": "false",
                              "uitestBuildDir": "$(System.DefaultWorkingDirectory)/artifact/mobile",
                              "uitestStorePath": "",
                              "uitestStorePass": "",
                              "uitestKeyAlias": "",
                              "uitestKeyPass": "",
                              "uitestToolsDir": "$(System.DefaultWorkingDirectory)/artifact/mobile",
                              "signInfo": "",
                              "xcuitestBuildDir": "",
                              "xcuitestTestIpaPath": "",
                              "prepareOpts": "",
                              "enableRun": "true",
                              "credsType": "serviceEndpoint",
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "username": "",
                              "password": "",
                              "appSlug": "Trackyon/People-Tracker-Android",
                              "devices": "Trackyon/peopletrackerandroid",
                              "series": "master",
                              "dsymDir": "",
                              "locale": "en_US",
                              "userDefinedLocale": "",
                              "loginOpts": "",
                              "runOpts": "",
                              "async": "true",
                              "cliLocationOverride": "",
                              "debug": "true"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Run Selenium Tests",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "testSelector": "testAssemblies",
                              "testAssemblyVer2": "**\\*UITests*.dll\n!**\\*TestAdapter.dll\n!**\\obj\\**",
                              "testPlan": "",
                              "testSuite": "",
                              "testConfiguration": "",
                              "tcmTestRun": "$(test.RunId)",
                              "searchFolder": "$(System.DefaultWorkingDirectory)",
                              "testFiltercriteria": "TestCategory=UI",
                              "runOnlyImpactedTests": "False",
                              "runAllTestsAfterXBuilds": "50",
                              "uiTests": "false",
                              "vstestLocationMethod": "version",
                              "vsTestVersion": "latest",
                              "vstestLocation": "",
                              "runSettingsFile": "$(System.DefaultWorkingDirectory)/artifact/win/bvt.runsettings",
                              "overrideTestrunParameters": "-webAppUrl $(TestWebAppUrl) -browser $(BrowserToUse)",
                              "pathtoCustomTestAdapters": "",
                              "runInParallel": "False",
                              "runTestsInIsolation": "False",
                              "codeCoverageEnabled": "False",
                              "otherConsoleOptions": "",
                              "distributionBatchType": "basedOnTestCases",
                              "batchingBasedOnAgentsOption": "autoBatchSize",
                              "customBatchSizeValue": "10",
                              "batchingBasedOnExecutionTimeOption": "autoBatchSize",
                              "customRunTimePerBatchValue": "60",
                              "dontDistribute": "False",
                              "testRunTitle": "Dev UI",
                              "platform": "Any CPU",
                              "configuration": "Release",
                              "publishRunAttachments": "false",
                              "diagnosticsEnabled": "True",
                              "collectDumpOn": "onAbortOnly",
                              "rerunFailedTests": "true",
                              "rerunType": "basedOnTestFailurePercentage",
                              "rerunFailedThreshold": "100",
                              "rerunFailedTestCasesMaxLimit": "5",
                              "rerunMaxAttempts": "3"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "QA Mobile",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "QA K8s",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 91,
                  "gatesOptions": {
                     "isEnabled": true,
                     "timeout": 1440,
                     "samplingInterval": 5,
                     "stabilizationTime": 5,
                     "minimumSuccessDuration": 0
                  },
                  "gates": [
                     {
                        "tasks": [
                           {
                              "environment": {},
                              "taskId": "00000000-0000-0000-0000-000000000000",
                              "version": "1.*",
                              "name": "Invoke REST API: GET",
                              "enabled": true,
                              "alwaysRun": false,
                              "continueOnError": false,
                              "timeoutInMinutes": 0,
                              "definitionType": "task",
                              "overrideInputs": {},
                              "condition": "succeeded()",
                              "inputs": {
                                 "connectedServiceNameSelector": "connectedServiceName",
                                 "connectedServiceName": "00000000-0000-0000-0000-000000000000",
                                 "connectedServiceNameARM": "",
                                 "method": "GET",
                                 "headers": "{\n}",
                                 "body": "",
                                 "urlSuffix": "",
                                 "waitForCompletion": "false",
                                 "successCriteria": ""
                              }
                           }
                        ]
                     }
                  ]
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/19"
            },
            {
               "id": 21,
               "name": "Prod Infra",
               "rank": 15,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  3
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 59
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 70
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 75
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Deploy Infra",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/deploy.ps1",
                              "arguments": "-resourceGroupName $(resourceGroupName) -adminlogin $(dblogin) -password $(dbpassword) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -stage $(deploymentName) -subscriptionId $(subscriptionId) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "true",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "QA Testing",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/21"
            },
            {
               "id": 23,
               "name": "Prod Web Service",
               "rank": 16,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  3
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 62
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 67
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 78
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**",
                                    "iac/**",
                                    "mobile/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "4.*",
                           "name": "Deploy to Staging Slot",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectionType": "AzureRM",
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "PublishProfilePath": "$(System.DefaultWorkingDirectory)/**/*.pubxml",
                              "PublishProfilePassword": "",
                              "WebAppKind": "webApp",
                              "WebAppName": "$(webSiteName)",
                              "DeployToSlotOrASEFlag": "true",
                              "ResourceGroupName": "$(resourceGroupName)",
                              "SlotName": "stage",
                              "DockerNamespace": "",
                              "DockerRepository": "",
                              "DockerImageTag": "",
                              "VirtualApplication": "",
                              "Package": "$(System.DefaultWorkingDirectory)/artifact/win/PeopleTracker.NetService.zip",
                              "RuntimeStack": "",
                              "RuntimeStackFunction": "",
                              "StartupCommand": "",
                              "ScriptType": "",
                              "InlineScript": ":: You can provide your deployment commands here. One command per line.",
                              "ScriptPath": "",
                              "WebConfigParameters": "",
                              "AppSettings": "",
                              "ConfigurationSettings": "",
                              "UseWebDeploy": "true",
                              "DeploymentType": "webDeploy",
                              "TakeAppOfflineFlag": "false",
                              "SetParametersFile": "",
                              "RemoveAdditionalFilesFlag": "true",
                              "ExcludeFilesFromAppDataFlag": "true",
                              "AdditionalArguments": "-retryAttempts:6 -retryInterval:10000",
                              "RenameFilesFlag": "true",
                              "XmlTransformation": "false",
                              "XmlVariableSubstitution": "false",
                              "JSONFiles": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "Swap Slots",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectedServiceName": "$(subscriptionConnection)",
                              "Action": "Swap Slots",
                              "WebAppName": "$(webSiteName)",
                              "SpecifySlot": "false",
                              "ResourceGroupName": "$(resourceGroupName)",
                              "SourceSlot": "stage",
                              "SwapWithProduction": "true",
                              "TargetSlot": "",
                              "PreserveVnet": "false",
                              "Slot": "production",
                              "ExtensionsList": "",
                              "OutputVariable": "",
                              "AppInsightsResourceGroupName": "",
                              "ApplicationInsightsResourceName": "",
                              "ApplicationInsightsWebTestName": ""
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Prod Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/23"
            },
            {
               "id": 24,
               "name": "Prod Database",
               "rank": 17,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  3
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 63
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 66
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 79
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "win/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$servername= az sql server list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=servername]$servername\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "1.*",
                           "name": "Deploy DACPAC to Sql Azure",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "ConnectedServiceNameSelector": "ConnectedServiceNameARM",
                              "ConnectedServiceName": "",
                              "ConnectedServiceNameARM": "$(subscriptionConnection)",
                              "AuthenticationType": "server",
                              "ServerName": "$(servername).database.windows.net",
                              "DatabaseName": "ptracker",
                              "SqlUsername": "$(dblogin)",
                              "SqlPassword": "$(dbpassword)",
                              "aadSqlUsername": "",
                              "aadSqlPassword": "",
                              "ConnectionString": "",
                              "TaskNameSelector": "DacpacTask",
                              "DeploymentAction": "Publish",
                              "DacpacFile": "$(System.DefaultWorkingDirectory)/artifact/win/PeopleTracker.Database.dacpac",
                              "BacpacFile": "",
                              "SqlFile": "",
                              "SqlInline": "",
                              "PublishProfile": "",
                              "AdditionalArguments": "/p:BlockOnPossibleDataLoss=False",
                              "SqlAdditionalArguments": "",
                              "InlineAdditionalArguments": "",
                              "IpDetectionMethod": "AutoDetect",
                              "StartIpAddress": "",
                              "EndIpAddress": "",
                              "DeleteFirewallRule": "true"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Prod Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/24"
            },
            {
               "id": 25,
               "name": "Prod K8s",
               "rank": 18,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  3
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 64
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 65
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 80
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$repository= az acr list --resource-group $(commonResourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=repository]$repository\"\n\n$cluster = az aks list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=cluster]$cluster\"\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "Install Helm 2.10.0",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "helmVersion": "2.10.0",
                              "checkLatestHelmVersion": "true",
                              "installKubeCtl": "true",
                              "kubectlVersion": "1.8.9",
                              "checkLatestKubeCtl": "true"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "helm init",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "connectionType": "Azure Resource Manager",
                              "azureSubscriptionEndpoint": "$(subscriptionConnection)",
                              "azureResourceGroup": "$(resourceGroupName)",
                              "kubernetesCluster": "$(cluster)",
                              "kubernetesServiceEndpoint": "",
                              "namespace": "",
                              "command": "init",
                              "chartType": "Name",
                              "chartName": "",
                              "chartPath": "",
                              "version": "",
                              "releaseName": "",
                              "overrideValues": "",
                              "valueFile": "",
                              "destination": "$(Build.ArtifactStagingDirectory)",
                              "canaryimage": "false",
                              "upgradetiller": "true",
                              "updatedependency": "false",
                              "save": "true",
                              "install": "true",
                              "recreate": "false",
                              "resetValues": "false",
                              "force": "false",
                              "waitForExecution": "true",
                              "arguments": "--service-account tiller",
                              "enableTls": "false",
                              "caCert": "",
                              "certificate": "",
                              "privatekey": "",
                              "tillernamespace": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "0.*",
                           "name": "helm upgrade",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "connectionType": "Azure Resource Manager",
                              "azureSubscriptionEndpoint": "$(subscriptionConnection)",
                              "azureResourceGroup": "$(resourceGroupName)",
                              "kubernetesCluster": "$(cluster)",
                              "kubernetesServiceEndpoint": "",
                              "namespace": "",
                              "command": "upgrade",
                              "chartType": "FilePath",
                              "chartName": "",
                              "chartPath": "$(System.DefaultWorkingDirectory)/artifact/iac/$(chart)",
                              "version": "",
                              "releaseName": "$(deploymentName)",
                              "overrideValues": "image.tag=$(Build.BuildId),service.url=\"http://$(webSiteName).azurewebsites.net\",image.repository=\"$(repository).azurecr.io/peopletracker\"",
                              "valueFile": "",
                              "destination": "$(Build.ArtifactStagingDirectory)",
                              "canaryimage": "false",
                              "upgradetiller": "true",
                              "updatedependency": "false",
                              "save": "true",
                              "install": "true",
                              "recreate": "false",
                              "resetValues": "false",
                              "force": "false",
                              "waitForExecution": "true",
                              "arguments": "",
                              "enableTls": "false",
                              "caCert": "",
                              "certificate": "",
                              "privatekey": "",
                              "tillernamespace": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Update DNS",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "filePath",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/updatedns.ps1",
                              "arguments": "-resourceGroupName $(resourceGroupName) -servicePrincipal $(servicePrincipal) -clientSecret $(clientSecret) -goDaddyKey $(GoDaddyKey) -goDaddySecret $(GoDaddySecret) -deploymentName $(deploymentName) -name \u0027$(dnsRecordName)\u0027 -subscriptionId $(subscriptionId) -tenatId $(tenatId) -Verbose",
                              "script": "# Write your powershell commands here.\n\nWrite-Host \"Hello World\"\n\n# Use the environment variables input below to pass secret variables to this script.",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/iac"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Prod Infra",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/25"
            },
            {
               "id": 26,
               "name": "Prod Mobile",
               "rank": 19,
               "owner": {
                  "displayName": "Test User",
                  "url": "https://redacted.vssps.visualstudio.com/00000000-0000-0000-0000-000000000000/_apis/Identities/00000000-0000-0000-0000-000000000000",
                  "_links": {
                     "avatar": {
                        "href": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted"
                     }
                  },
                  "id": "00000000-0000-0000-0000-000000000000",
                  "uniqueName": "fakeEmail@noemail.com",
                  "imageUrl": "https://dev.azure.com/tooltester/_apis/GraphProfile/MemberAvatars/redacted",
                  "descriptor": "redacted"
               },
               "variables": {},
               "variableGroups": [
                  3
               ],
               "preDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 61
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "beforeGates"
                  }
               },
               "deployStep": {
                  "id": 68
               },
               "postDeployApprovals": {
                  "approvals": [
                     {
                        "rank": 1,
                        "isAutomated": true,
                        "isNotificationOn": false,
                        "id": 77
                     }
                  ],
                  "approvalOptions": {
                     "requiredApproverCount": null,
                     "releaseCreatorCanBeApprover": false,
                     "autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped": false,
                     "enforceIdentityRevalidation": false,
                     "timeoutInMinutes": 0,
                     "executionOrder": "afterSuccessfulGates"
                  }
               },
               "deployPhases": [
                  {
                     "deploymentInput": {
                        "parallelExecution": {
                           "parallelExecutionType": "none"
                        },
                        "agentSpecification": null,
                        "skipArtifactsDownload": false,
                        "artifactsDownloadInput": {
                           "downloadInputs": [
                              {
                                 "alias": "artifact",
                                 "artifactType": "Build",
                                 "artifactDownloadMode": "Selective",
                                 "artifactItems": [
                                    "mobile/**",
                                    "iac/**"
                                 ]
                              }
                           ]
                        },
                        "queueId": 81,
                        "demands": [],
                        "enableAccessToken": false,
                        "timeoutInMinutes": 0,
                        "jobCancelTimeoutInMinutes": 1,
                        "condition": "succeeded()",
                        "overrideInputs": {}
                     },
                     "rank": 1,
                     "phaseType": "agentBasedDeployment",
                     "name": "Agent job",
                     "refName": null,
                     "workflowTasks": [
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Get Resource Names",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "",
                              "arguments": "",
                              "script": "az login --service-principal --username $(servicePrincipal) --password $(clientSecret) --tenant $(tenatId) --output $(output)\naz account set --subscription $(subscriptionId)\n\n$webSiteName= az webapp list --resource-group $(resourceGroupName) --query [].name --output tsv\nWrite-Output \"##vso[task.setvariable variable=webSiteName]$webSiteName\"",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": ""
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "2.*",
                           "name": "Update BER",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "targetType": "inline",
                              "filePath": "$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1",
                              "arguments": "-value \u0027http://$(webSiteName).azurewebsites.net\u0027",
                              "script": "# Read the version from the file passed in by build\n$version = Get-Content .\\version.txt -Raw\n$version = $version.Trim()\n\n\n$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1 -berUrl $(berUrl) -appName $(appName) -dataType $(dataType) -version $version -value \u0027http://$(webSiteName).azurewebsites.net\u0027 -verbose\n\n$(System.DefaultWorkingDirectory)/artifact/iac/ber.ps1 -berUrl $(berUrl) -appName $(appName) -dataType Env -version $version -value \u0027Prod\u0027 -verbose",
                              "errorActionPreference": "stop",
                              "failOnStderr": "false",
                              "ignoreLASTEXITCODE": "false",
                              "pwsh": "false",
                              "workingDirectory": "$(System.DefaultWorkingDirectory)/artifact/mobile"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "3.*",
                           "name": "Deploy Android to Beta Testers",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "appSlug": "Trackyon/People-Tracker-Android",
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTracker.Mobile.Droid.apk",
                              "symbolsType": "Apple",
                              "symbolsPath": "",
                              "pdbPath": "**/*.pdb",
                              "dsymPath": "",
                              "mappingTxtPath": "",
                              "packParentFolder": "false",
                              "releaseNotesSelection": "file",
                              "releaseNotesInput": "",
                              "releaseNotesFile": "$(System.DefaultWorkingDirectory)/artifact/mobile/ReleaseNotes.txt",
                              "isMandatory": "false",
                              "destinationType": "groups",
                              "destinationGroupIds": "",
                              "destinationStoreId": "",
                              "isSilent": "false"
                           }
                        },
                        {
                           "environment": {},
                           "taskId": "00000000-0000-0000-0000-000000000000",
                           "version": "3.*",
                           "name": "Deploy iOS to Beta Testers",
                           "refName": "",
                           "enabled": true,
                           "alwaysRun": false,
                           "continueOnError": false,
                           "timeoutInMinutes": 0,
                           "definitionType": "task",
                           "overrideInputs": {},
                           "condition": "succeeded()",
                           "inputs": {
                              "serverEndpoint": "00000000-0000-0000-0000-000000000000",
                              "appSlug": "Trackyon/People-Tracker",
                              "app": "$(System.DefaultWorkingDirectory)/artifact/mobile/PeopleTrackerMobileiOS.ipa",
                              "symbolsType": "Apple",
                              "symbolsPath": "",
                              "pdbPath": "**/*.pdb",
                              "dsymPath": "",
                              "mappingTxtPath": "",
                              "packParentFolder": "false",
                              "releaseNotesSelection": "file",
                              "releaseNotesInput": "",
                              "releaseNotesFile": "$(System.DefaultWorkingDirectory)/artifact/mobile/ReleaseNotes.txt",
                              "isMandatory": "false",
                              "destinationType": "groups",
                              "destinationGroupIds": "",
                              "destinationStoreId": "",
                              "isSilent": "false"
                           }
                        }
                     ]
                  }
               ],
               "environmentOptions": {
                  "emailNotificationType": "OnlyOnFailure",
                  "emailRecipients": "release.environment.owner;release.creator",
                  "skipArtifactsDownload": false,
                  "timeoutInMinutes": 0,
                  "enableAccessToken": false,
                  "publishDeploymentStatus": true,
                  "publishDeploymentStatusToWorkItems": false,
                  "badgeEnabled": false,
                  "autoLinkWorkItems": false,
                  "pullRequestDeploymentEnabled": false
               },
               "demands": [],
               "conditions": [
                  {
                     "name": "Prod K8s",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "Prod Database",
                     "conditionType": "environmentState",
                     "value": "4"
                  },
                  {
                     "name": "Prod Web Service",
                     "conditionType": "environmentState",
                     "value": "4"
                  }
               ],
               "executionPolicy": {
                  "concurrencyCount": 1,
                  "queueDepthCount": 0
               },
               "schedules": [],
               "currentRelease": {
                  "id": 179,
                  "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/releases/179",
                  "_links": {}
               },
               "retentionPolicy": {
                  "daysToKeep": 30,
                  "releasesToKeep": 3,
                  "retainBuild": true
               },
               "processParameters": {},
               "properties": {},
               "preDeploymentGates": {
                  "id": 92,
                  "gatesOptions": {
                     "isEnabled": true,
                     "timeout": 1440,
                     "samplingInterval": 5,
                     "stabilizationTime": 5,
                     "minimumSuccessDuration": 0
                  },
                  "gates": [
                     {
                        "tasks": [
                           {
                              "environment": {},
                              "taskId": "00000000-0000-0000-0000-000000000000",
                              "version": "1.*",
                              "name": "Invoke REST API: GET",
                              "enabled": true,
                              "alwaysRun": false,
                              "continueOnError": false,
                              "timeoutInMinutes": 0,
                              "definitionType": "task",
                              "overrideInputs": {},
                              "condition": "succeeded()",
                              "inputs": {
                                 "connectedServiceNameSelector": "connectedServiceName",
                                 "connectedServiceName": "00000000-0000-0000-0000-000000000000",
                                 "connectedServiceNameARM": "",
                                 "method": "GET",
                                 "headers": "{\n}",
                                 "body": "",
                                 "urlSuffix": "",
                                 "waitForCompletion": "false",
                                 "successCriteria": ""
                              }
                           }
                        ]
                     }
                  ]
               },
               "postDeploymentGates": {
                  "id": 0,
                  "gatesOptions": null,
                  "gates": []
               },
               "environmentTriggers": [],
               "badgeUrl": "https://vsrm.dev.azure.com/tooltester/_apis/public/Release/badge/00000000-0000-0000-0000-000000000000/2/26"
            }
         ],
         "artifacts": [
            {
               "sourceId": "00000000-0000-0000-0000-000000000000:23",
               "type": "Build",
               "alias": "artifact",
               "definitionReference": {
                  "artifactSourceDefinitionUrl": {
                     "id": "https://dev.azure.com/tooltester/_permalink/_build/index?collectionId=00000000-0000-0000-0000-000000000000\u0026projectId=00000000-0000-0000-0000-000000000000\u0026definitionId=23",
                     "name": ""
                  },
                  "defaultVersionBranch": {
                     "id": "",
                     "name": ""
                  },
                  "defaultVersionSpecific": {
                     "id": "",
                     "name": ""
                  },
                  "defaultVersionTags": {
                     "id": "",
                     "name": ""
                  },
                  "defaultVersionType": {
                     "id": "latestType",
                     "name": "Latest"
                  },
                  "definition": {
                     "id": "23",
                     "name": "azcliTest-CI"
                  },
                  "project": {
                     "id": "00000000-0000-0000-0000-000000000000",
                     "name": "azcliTest"
                  }
               },
               "isPrimary": true,
               "isRetained": false
            }
         ],
         "triggers": [
            {
               "artifactAlias": "artifact",
               "triggerConditions": [],
               "triggerType": "artifactSource"
            }
         ],
         "releaseNameFormat": "Release-$(rev:r)",
         "tags": [],
         "properties": {
            "DefinitionCreationSource": {
               "$type": "System.String",
               "$value": "ReleaseClone"
            },
            "IntegrateJiraWorkItems": {
               "$type": "System.String",
               "$value": "false"
            }
         },
         "id": 2,
         "name": "PTracker-CD",
         "path": "\\",
         "projectReference": null,
         "url": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/definitions/2",
         "_links": {
            "self": {
               "href": "https://vsrm.dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_apis/Release/definitions/2"
            },
            "web": {
               "href": "https://dev.azure.com/tooltester/00000000-0000-0000-0000-000000000000/_release?definitionId=2"
            }
         }
      }
   ]
}